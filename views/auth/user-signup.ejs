<%- include('../includes/head.ejs') %> <%- include('../includes/header.ejs') %>

<!--bidder signup-->
<div id="containers" class="container mt-5 w-100 bg-white">
	<h2 id="heading" class="text-center text-grey">Sign up</h2>
	<form action="/user-signup" method="post">
		<div class="input-group mb-3">
			<input
				required
				type="text"
				class="form-control"
				placeholder="First Name"
				aria-label="FirstName"
				aria-describedby="basic-addon1"
				name="user[firstName]"
			/>
		
			<input
				required
				type="text"
				class="form-control"
				placeholder="Last Name"
				aria-label="LastName"
				aria-describedby="basic-addon1"
				name="user[lastName]"
			/>
		</div>

		<div class="input-group mb-3">
			<input
				required
				type="email"
				class="form-control"
				placeholder="Email"
				aria-label="Email"
				aria-describedby="basic-addon2"
				name="user[email]"
			/>
			<span class="input-group-text" id="basic-addon2">@example.com</span>
		</div>

		<div class="input-group mb-3">
			<input
				required
				type="number"
				class="form-control"
				placeholder="Phone Number"
				aria-label="PhoneNumber"
				aria-describedby="basic-addon1"
				name="user[PhoneNumber]"
			/>
		</div>

		<div class="align-items-center">
			<div class="">
				<input
					required
					type="password"
					id="inputPassword6"
					class="form-control"
					placeholder="Password"
					aria-describedby="passwordHelpInline"
					name="user[password]"
				/>
			</div>
		</div>
		<div class="align-items-center">
			<div class="mt-3">
				<input
					required
					type="password"
					id="inputPassword6"
					class="form-control"
					placeholder="Confirm Password"
					aria-describedby="passwordHelpInline"
				/>
			</div>
		</div>
		<div class="mt-3">
			<select
				required
				class="form-select"
				aria-label="Default select example"
				name="user[city]"
			>
				<option disabled selected>City</option>
				<option value="1">Amman</option>
				<option value="2">Salt</option>
				<option value="3">Irbid</option>
			</select>
		</div>
		<div id="submit-button" class="text-center">
			<button type="submit" class="btn btn-primary mt-3">Sign Up</button>
		</div>
	</form>
</div>

<!-- <script>
	
	const form = document.querySelector('form');
	const firstNameError = document.querySelector('.user[firstName].error');

	form.addEventListener('submit', async (e) => {
		
		e.preventDefault();

		// get values
		const firstName = form.user[firstName].value;
		const lastName = form.user[lastName].value;
		const email = form.user[email].value;
		const phoneNumber = form.user[phoneNumber].value;
		const password = form.user[password].value;
		const city = form.user[city].value;
		
		try {
			const res = await fetch('/user-signup', {
				method: 'post',
				body: JSON.stringify({ firstName, lastName,  email, phoneNumber, password,  city}),
				headers: { 'Content-Type': 'application/json' }
			});
			const data = await res.json();
			if (data.user) {
				location.assign('/');
			}
		}
		catch (err) {
			console.log(err);
		}
	})
</script> -->

<%- include("../includes/end.ejs") %>
